// Sprites.cpp
// Pygasm 2018

#include <Arduboy2.h>
#include <ArduboyTones.h>
#include "Classes.h"

const unsigned char Board::image[] PROGMEM = 
{
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 
  0x80, 0x80, 0x80, 0x80, 0x80, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 
  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 
  0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 
  0x80, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char Board::x[] PROGMEM =
{
  0x01, 0x02, 0x84, 0x48, 0x30, 0x30, 0x48, 0x84, 0x02, 0x01,
  0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02,
};

const unsigned char Board::o[] PROGMEM = 
{
  0xfc, 0x02, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0xfc, 
  0x00, 0x01, 0x02, 0x02, 0x02, 0x02, 0x02, 0x02, 0x01, 0x00,  
};

// Board define
void Board::upd(Arduboy2 & arduboy, int cells[3][9][2])
{
  for (int i; i < 9; i++)
  {
    switch (cells[1][i][0])
    {
      case 0:
        break;
      case 1:
        arduboy.drawBitmap(cells[2][i][0], cells[2][i][1], x, 10, 10);
        break;
      case 2:
        arduboy.drawBitmap(cells[2][i][0], cells[2][i][1], o, 10, 10);
        break;
    }
  }
	arduboy.drawBitmap(pos[0], pos[1], image, len[0], len[1]);
};


// Selector define
void Selector::upd(Arduboy2 & arduboy, ArduboyTones & sound)
{
  if (arduboy.justPressed(LEFT_BUTTON)) {indexX--; sound.tone(300, 50);}
  if (arduboy.justPressed(UP_BUTTON)) {indexY--; sound.tone(300, 50);}
  if (arduboy.justPressed(RIGHT_BUTTON)) {indexX++; sound.tone(300, 50);}
  if (arduboy.justPressed(DOWN_BUTTON)) {indexY++; sound.tone(300, 50);}

  if (indexX > 2) {indexX = 0;}
  else if (indexX < 0) {indexX = 2;}

  if (indexY > 2) {indexY = 0;}
  else if (indexY < 0) {indexY = 2;}

  arduboy.drawBitmap(posX[indexX], posY[indexY], image, len[0], len[1]);
};

const unsigned char Selector::image[] PROGMEM = 
{
  0x55, 0x00, 0x1, 0x00, 0x1, 0x00, 0x1, 0x00, 0x1, 0x00, 0x1, 0x00, 0x1, 0x00, 0x55, 0x55, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00, 0x40, 0x00, 0x55
};

